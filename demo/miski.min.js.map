{"version":3,"file":"miski.min.js","sources":["../src/mask.ts","../src/utils.ts","../src/query.ts","../src/constants.ts","../src/archetype.ts","../src/schema.ts","../src/component.ts","../src/entity.ts","../src/step.ts","../src/system.ts","../src/types.ts","../src/world.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["getMaxBit","mask","length","setBitOn","bit","isValidBit","SyntaxError","Math","floor","getMaskId","max","id","i","n","parseInt","abs","toString","createBitmaskFromComponents","world","components","createBitmask","Uint32Array","ceil","spec","maxComponents","component","Error","spliceOne","arr","index","isObject","object","Boolean","Array","isArray","systemNoop","_","_validName","isValidName","str","trim","test","FORBIDDEN_NAMES","has","Set","createQuery","all","any","none","every","isValidComponent","instances","isQueryCandidate","query","archetype","and","_target","not","or","addArchetypeToQuery","archetypes","indexOf","push","removeArchetypeFromQuery","idx","getComponentsFromQuery","_getEntities","entities","getEntitiesFromQuery","flatMap","EntityState","DEFAULT_MAX_COMPONENTS","DEFAULT_MAX_ENTITIES","VALID_COMPONENT_KEY","Symbol","VALID_SCHEMA_KEY","updateEntityArchetype","entity","removal","cidx","undefined","old","get","delete","size","deleteArchetype","queries","qs","values","EMPTY","tmp","createArchetype","add","set","isValidSchema","schema","Object","hasOwnProperty","call","prop","resetDataInStore","store","initial","isTypedArray","prefill","err","getDataFromStore","setDataInStore","value","guard","TypeError","defineDataStore","name","arrayType","_init","isTyped","ArrayBuffer","isView","DataView","isNaN","create","getPrototypeOf","getProp","this","enumerable","setProp","[object Object]","createDataStorage","factory","array","maxEntities","setPrototypeOf","fill","prototype","createComponent","registerComponent","item","len","instance","configurable","writeable","entries","key","String","defineProperty","writable","unregisterComponent","removeComponentFromEntity","addComponentToEntity","properties","keys","createEntityArray","Int16Array","DESTROYED","total","available","from","assign","createEntity","pop","destroyEntity","includes","runPreSystems","systems","system","enabled","pre","runPostSystems","alpha","post","runUpdateSystems","delta","update","createSystem","registerSystem","queryInstance","createQueryInstance","_sameWorld","c","_getInstance","filter","freeze","reduce","obj","val","unregisterSystem","enableSystem","disableSystem","isSystemEnabled","numberGuard","property","initToZero","_property","i8","Int8Array","ui8","Uint8Array","ui8c","Uint8ClampedArray","i16","ui16","Uint16Array","i32","Int32Array","ui32","i64","BigInt64Array","ui64","BigUint64Array","f32","Float32Array","f64","boolean","fnc","number","string","defaultWorldSpec","createWorld","Map","Date","now","random","substr"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;SAQgBA,UAAUC,GACxB,OAAO,GAAKA,EAAKC,gBAaHC,SAASF,EAAeG,GACtC,aAXcC,WAAWJ,EAAeG,GACxC,QAAIA,EAAM,GAAKA,EAAMJ,UAAUC,IAU1BI,CAAWJ,EAAMG,GAAM,MAAM,IAAIE,YAAY,OAAOF,6BAEzD,OADAH,EAAKM,KAAKC,MAAMJ,EAAM,MAAQ,GAAKA,EAAM,GAClCH,WAaOQ,UAAUR,GACxB,MAAMS,EAAMV,UAAUC,GACtB,IAAIU,EAAK,EACT,IAAK,IAAIC,EAAI,EAAGC,EAAIZ,EAAKC,OAAQU,EAAIC,EAAGD,IACtCD,IAAOV,EAAKW,GAAKF,GAAQE,EAAI,GAE/B,OAAOE,SAASP,KAAKQ,IAAIJ,GAAIK,SAAS,GAAI,YChC5BC,4BAA4BC,KAAiBC,GAC3D,MAAMlB,WDTQmB,cAAclB,EAAS,IACrC,OAAO,IAAImB,YAAYd,KAAKe,KAAKpB,EAAS,KCQ7BkB,CAAcF,EAAMK,KAAKC,eAAiB,IACvD,IAAKL,EAAWjB,OAAQ,OAAOD,EAC/B,IAAK,IAAIW,EAAI,EAAGC,EAAIM,EAAWjB,OAAQU,EAAIC,EAAGD,IAAK,CACjD,MAAMa,EAAYN,EAAWP,GAC7B,GAAIa,EAAUP,MAAMP,KAAOO,EAAMP,GAC/B,MAAM,IAAIe,MAAM,2CAElBvB,SAASF,EAAMwB,EAAUd,IAE3B,OAAOV,WAYO0B,UAAaC,EAAUC,GACrC,MAAM3B,EAAS0B,EAAI1B,OACnB,IAAKA,EAAQ,OAAO0B,EACpB,KAAOC,EAAQ3B,GACb0B,EAAIC,GAASD,EAAIC,EAAQ,GACzBA,IAGF,OADAD,EAAI1B,OAAS0B,EAAI1B,OAAS,EACnB0B,WAIOE,SAASC,GACvB,OAAOC,QAA0B,iBAAXD,IAAwBE,MAAMC,QAAQH,aAI9CI,WAAWC,IAI3B,MAAMC,EAAa,qCAGHC,YAAYC,GAC1B,MAAmB,iBAARA,KACXA,EAAMA,EAAIC,QACCtC,OAAS,GAAKmC,EAAWI,KAAKF,KAASG,EAAgBC,IAAIJ,IAIjE,MAAMG,EAAkB,IAAIE,IAAI,CAErC,WACA,KACA,YACA,OACA,SACA,QAEA,cACA,iBACA,gBACA,uBACA,YACA,iBACA,WACA,UACA,mBACA,mBACA,mBACA,mBACA,uBC1CcC,YAAYtB,GAC1B,IAAKA,EAAM,MAAM,IAAIG,MAAM,+BAC3B,MAAMoB,IAAEA,EAAM,GAAEC,IAAEA,EAAM,GAAEC,KAAEA,EAAO,IAAOzB,EAE1C,IADc,IAAIuB,KAAQC,KAAQC,GAAMC,MAAMC,kBAClC,MAAM,IAAIxB,MAAM,6CAC5B,MAAO,CACLyB,UAAW,GACXL,IAAK,IAAIA,GACTC,IAAK,IAAIA,GACTC,KAAM,IAAIA,aAUEI,iBAAiBC,EAAsBC,GACrD,IAAK,IAAI1C,EAAI,EAAGV,EAASmD,EAAME,IAAIrD,OAAQU,EAAIV,EAAQU,IAAK,CAC1D,MAAM4C,EAAUF,EAAUrD,KAAKW,GAC/B,GAAiC,IAA5ByC,EAAMI,IAAI7C,GAAK4C,GAAgB,OAAO,EAC3C,IAAKH,EAAME,IAAI3C,GAAK4C,KAAaH,EAAME,IAAI3C,GAAI,OAAO,EACtD,IAAKyC,EAAMK,GAAG9C,GAAK4C,GAAW,EAAG,OAAO,EAE1C,OAAO,WAIOG,oBAAoBN,EAAsBC,GACxD,OAA6C,IAAzCD,EAAMO,WAAWC,QAAQP,IAC7BD,EAAMO,WAAWE,KAAKR,GADiCD,WAMzCU,yBAAyBV,EAAsBC,GAC7D,MAAMU,EAAMX,EAAMO,WAAWC,QAAQP,GACrC,OAAa,IAATU,GACJrC,UAAU0B,EAAMO,WAAYI,GADLX,WAMTY,uBAAuBZ,GACrC,OAAOA,EAAMlC,WAIf,SAAS+C,aAAaZ,GACpB,MAAO,IAAIA,EAAUa,mBAIPC,qBAAqBf,GAEnC,OAAOA,EAAMO,WAAWS,QAAQH,cChGlC,IAAkBI,GAAlB,SAAkBA,GAEhBA,sBAEAA,8BAJF,CAAkBA,IAAAA,OAOX,MAAMC,EAAyB,IAEzBC,EAAuB,IAEvBC,EAAsBC,SAEtBC,EAAmBD,kBC2ChBE,sBACd1D,EACA2D,EACApD,EACAqD,GAAU,GAEV,MAAMlB,WAAEA,EAAUO,SAAEA,GAAajD,EACjC,IAAIC,EAA2C,GAE/C,MAAM4D,EAAOZ,EAASU,GACtB,QAAaG,IAATD,GAAsBA,GAAQ,EAChC,MAAM,IAAIrD,MAAM,4BACX,GAAIqD,GAAQ,EAAG,CACpB,MAAME,EAAMrB,EAAWsB,IAAIH,GACvBE,IACF9D,EAAa,IAAI8D,EAAI9D,YACrB8D,EAAId,SAASgB,OAAON,GACM,IAAtBI,EAAId,SAASiB,eAtCPC,gBAAgBnE,EAAcoC,GAC5C,MAAMM,WAAEA,EAAU0B,QAAEA,GAAYpE,GAC1BP,GAAEA,GAAO2C,EACf,GAAIM,EAAWsB,IAAIvE,KAAQ2C,EACzB,MAAM,IAAI5B,MAAM,iCAElB,MAAM6D,EAAK,IAAID,EAAQE,UACvB,IAAK,IAAI5E,EAAI,EAAGC,EAAI0E,EAAGrF,OAAQU,EAAIC,EAAGD,IACpCmD,yBAAyBwB,EAAG3E,GAAI0C,GAGlC,OADAM,EAAWuB,OAAOxE,GACX2C,EA2B0B+B,CAAgBnE,EAAO+D,IAIxD,GAAIxD,EACF,IAAgB,IAAZqD,EACF3D,EAAW2C,KAAKrC,OACX,CACL,MAAMuC,EAAM7C,EAAW0C,QAAQpC,GAC3BuC,GAAO,GAAGrC,UAAUR,EAAY6C,GAIxC,GAA0B,IAAtB7C,EAAWjB,OAEb,OADAiE,EAASU,GAAUP,EAAYmB,MACxB,KAGT,MAAMC,WAxEQC,gBAAgBzE,KAAiBC,GAC/C,MAAMlB,EAAOgB,4BAA4BC,KAAUC,GACnD,MAAO,CACLA,WAAY,IAAIyB,IAAIzB,GACpBgD,SAAU,IAAIvB,IACd3C,KAAAA,EACAU,GAAIF,UAAUR,IAkEJ0F,CAAgBzE,KAAUC,IAChCR,GAAEA,GAAO+E,EACTpC,EAAYM,EAAWsB,IAAIvE,GAEjC,QAAkBqE,IAAd1B,EAAyB,CAC3B,MAAMiC,EAAK,IAAIrE,EAAMoE,QAAQE,UAC7B,IAAK,IAAI5E,EAAI,EAAGC,EAAI0E,EAAGrF,OAAQU,EAAIC,EAAGD,IAAK,CACzC,MAAMyC,EAAQkC,EAAG3E,GACbwC,iBAAiBC,EAAOqC,IAC1B/B,oBAAoBN,EAAOqC,GAM/B,OAHAvB,EAASU,GAAUlE,EACnB+E,EAAIvB,SAASyB,IAAIf,GACjBjB,EAAWiC,IAAIlF,EAAI+E,GACZA,EAIP,OAFAvB,EAASU,GAAUvB,EAAU3C,GAC7B2C,EAAUa,SAASyB,IAAIf,GAChBvB,WC5DKwC,cAAcC,GAC5B,IAAKA,EAAQ,OAAO,EACpB,IAAKjE,SAASiE,GAAS,OAAO,EAC9B,GAAIC,OAAOC,eAAeC,KAAKH,EAAQ,YAEhCjE,SADLiE,EAASA,EAAOA,QACO,OAAO,EAEhC,MAAMP,EAASQ,OAAOR,OAAOO,GAC7B,OAAsB,IAAlBP,EAAOtF,QACJsF,EAAOvC,OAAOkD,IAAqE,IAA3DA,EAAqCxB,cA0ItDyB,iBAAuBC,EAAgCxB,GACrE,MAAMyB,QAAEA,EAAOC,aAAEA,EAAYC,QAAEA,GAAYH,EAC3C,GAAIxB,EAAS,GAAKA,EAASwB,EAAMnG,OAAQ,MAAM,IAAII,YAAY,2BAC/D,WACS+F,EAAMxB,GACb,MAAO4B,GACP,IAAIF,EAGF,MAAM,IAAI7E,MAAM+E,GAFhBJ,EAAMxB,GAAU,EAMpB,OADgB,IAAZ2B,IAAkBH,EAAMxB,GAAUyB,KAC/BD,WASOK,iBAAuBL,EAAgCxB,GACrE,OAAOwB,EAAMxB,YAUC8B,eACdN,EACAxB,EACA+B,GAEA,GAAI/B,EAAS,GAAKA,EAASwB,EAAMnG,OAAQ,MAAM,IAAII,YAAY,2BAC/D,IAAK+F,EAAMQ,MAAMD,GAAQ,MAAM,IAAIE,UAAU,8BAE7C,OADAT,EAAMxB,GAAU+B,EACTP,WAQOU,gBAAsBxF,GACpC,MAAMyF,KAAEA,EAAIV,QAAEA,EAAOO,MAAEA,EAAKI,UAAEA,EAAYhF,MAAKuE,QAAEA,GAAU,GAAUjF,EAErE,IAAKyF,IAASH,EACZ,MAAM,IAAIvG,YAAY,0DAGxB,IAAKgC,YAAY0E,GACf,MAAM,IAAItF,MAAM,iBAGlB,MAAMwF,EAAQZ,IAEd,IAAKO,EAAMK,GACT,MAAM,IAAIJ,UAAU,iFAGtB,MAAMpB,EAAM,IAAIuB,EACVE,WJ9KQZ,aAAaxE,GAC3B,OAAOC,QAAQoF,YAAYC,OAAOtF,MAAaA,aAAkBuF,WI6KjDf,CAAab,GAE7B,GAAIyB,IAA6B,iBAAVD,GAAsBK,MAAML,IACjD,MAAM,IAAIJ,UAAU,wEAAwEI,MAiD9F,OA9C+BlB,OAAOwB,OAAOxB,OAAOyB,eAAe/B,GAAM,CACvEgC,QAAS,CACPd,MAAO,SAAyC/B,GAC9C,OAAO8C,KAAK9C,IAEd+C,YAAY,GAEdC,QAAS,CACPjB,MAAO,SAAyC/B,EAAgB+B,GAC9D,GAAI/B,EAAS,GAAKA,EAAS8C,KAAKzH,OAAQ,MAAM,IAAII,YAAY,2BAC9D,IAAKqH,KAAKd,MAAMD,GAAQ,MAAM,IAAIE,UAAU,iCAE5C,OADAa,KAAK9C,GAAU+B,EACRe,MAETC,YAAY,GAEdX,UAAW,CACTL,MAAOK,EACPW,YAAY,GAEdf,MAAO,CACLD,MAAOC,EACPe,YAAY,GAEdtB,QAAS,CACPM,MAAON,EACPsB,YAAY,GAEdrB,aAAc,CACZK,MAAOO,EACPS,YAAY,GAEdZ,KAAM,CACJJ,MAAOI,EACPY,YAAY,GAEdpB,QAAS,CACPI,MAAOJ,EACPoB,YAAY,GAEdE,CAACnD,GAAmB,CAClBiC,OAAO,EACPgB,YAAY,cAaFG,kBAAwB7G,EAAc8G,GACpD,MAAMf,UAAEA,EAASX,QAAEA,EAAOE,QAAEA,GAAYwB,EAClCC,EAAQ,IAAIhB,EAAU/F,EAAMK,KAAK2G,aAIvC,OAHAlC,OAAOmC,eAAeF,EAAOD,IACb,IAAZxB,GAAkByB,EAAMG,KAAK9B,KACjC2B,EAAM/G,MAAQA,EACP+G,WCzSO/E,iBAAoBzB,GAClC,OAAOK,SAASL,IAAcuE,OAAOqC,UAAUpC,eAAeC,KAAKzE,EAAWgD,YAUhE6D,gBAAmB/G,GACjC,IAAKA,EAAM,MAAM,IAAIjB,YAAY,uDACjC,MAAM0G,KAAEA,EAAIjB,OAAEA,GAAWxE,EACzB,IAAKe,YAAY0E,GAAO,MAAM,IAAI1G,YAAY,8BAC9C,IAAKwF,cAAcC,GAAS,MAAM,IAAIzF,YAAY,gCAClD,MAAO,CACLwH,CAACrD,IAAsB,EACvBtB,UAAW,GACX6D,KAAAA,EACAjB,OAAAA,YAYYwC,kBAAqBrH,EAAcO,GACjD,IAAKP,EAAO,MAAM,IAAIZ,YAAY,mDAClC,IAAKmB,EAAW,MAAM,IAAInB,YAAY,uDACtC,MAAM6C,UAAEA,EAAS6D,KAAEA,EAAIjB,OAAEA,GAAWtE,GAC9BN,WAAEA,GAAeD,EACvB,GAAI8F,KAAQ7F,EACV,MAAM,IAAIO,MAAM,wBAAwBsF,6BAG1C,MAAMhD,WLtDQH,QAAWjC,EAAmB4G,GAC5C,IAAK,IAAI5H,EAAI,EAAG6H,EAAM7G,EAAI1B,OAAQU,GAAK6H,EAAK7H,IAC1C,GAAIgB,EAAIhB,KAAO4H,EAAM,OAAO5H,EAE9B,OAAQ,EKkDIiD,CAAQ1C,OAAY6D,GAChC,IAAa,IAAThB,EAAY,MAAM,IAAItC,MAAM,+BAEhC,MAAMgH,EAAW1C,OAAOwB,OAAO/F,EAAW,CACxC0C,SAAU,CACRyC,MAAO,IAAIhE,IACXgF,YAAY,GAEdjH,GAAI,CACFiG,MAAO5C,EACP2E,cAAc,EACdf,YAAY,EACZgB,WAAW,GAEb1H,MAAO,CACL0F,MAAO1F,EACPyH,cAAc,EACdf,YAAY,EACZgB,WAAW,KAITC,EAAU7C,OAAO6C,QAAQ9C,GAC/B,IAAK,IAAInF,EAAI,EAAGC,EAAIgI,EAAQ3I,OAAQU,EAAIC,EAAGD,IAAK,CAC9C,MAAOkI,EAAKlC,GAASiC,EAAQjI,GAC7B,IAAK0B,YAAYwG,GACf,MAAM,IAAIxI,YAAY,kBAAkByI,OAAOD,gCAEjD9C,OAAOgD,eAAeN,EAAUI,EAAK,CACnClC,MAAOmB,kBAAkB7G,EAAO0F,GAChC+B,cAAc,EACdf,YAAY,EACZqB,UAAU,IAMd,OAFA9F,EAAUW,KAAK4E,GACfvH,EAAW6C,GAAO0E,EACXA,WASOQ,oBAAuBzH,GACrC,IAAKA,EAAW,MAAM,IAAInB,YAAY,gCACtC,MAAMK,GAAEA,EAAEqG,KAAEA,EAAI9F,MAAEA,GAAUO,GACtBN,WAAEA,GAAeD,EACjBwH,EAAWvH,EAAWR,GAC5B,IAAK+H,GAAYjH,IAAciH,EAC7B,MAAM,IAAIhH,MAAM,cAAcsF,oCAEhC,MAAM7C,EAAW,IAAIuE,EAASvE,UAC9B,IAAK,IAAIvD,EAAI,EAAGC,EAAIsD,EAASjE,OAAQU,EAAIC,EAAGD,IAC1CuI,0BAA0BT,EAAUvE,EAASvD,IAG/C,cADOO,EAAWR,GACXO,WAUOkI,qBACd3H,EACAoD,EACAwE,GAEA,IAAK5H,EAAW,MAAM,IAAInB,YAAY,gCACtC,GAAIiH,MAAM1C,GAAS,MAAM,IAAIvE,YAAY,yCACzC,MAAMK,GAAEA,EAAEqG,KAAEA,EAAIjB,OAAEA,EAAM7E,MAAEA,GAAUO,GAC9BF,KAAEA,EAAIJ,WAAEA,GAAeD,EAC7B,GAAI2D,EAAS,GAAKA,EAAStD,EAAK2G,YAC9B,MAAM,IAAIxG,MAAM,6BAA6BmD,OAE/C,MAAM6D,EAAWvH,EAAWR,GAC5B,IAAK+H,GAAYjH,IAAciH,EAC7B,MAAM,IAAIhH,MAAM,cAAcsF,oCAEhC,GAAI0B,EAASvE,SAASxB,IAAIkC,GACxB,MAAM,IAAInD,MAAM,WAAWmD,6BAAkCmC,OAE/D,GAAIqC,EAAY,CACd,MAAMC,EAAOtD,OAAOsD,KAAKvD,GACzB,IAAK,IAAInF,EAAI,EAAGC,EAAIyI,EAAKpJ,OAAQU,EAAIC,EAAGD,IAAK,CAC3C,MAAMkI,EAAMQ,EAAK1I,GACjB+F,eAAe+B,EAASI,GAAejE,EAAQwE,EAAWP,KAK9D,OAFAJ,EAASvE,SAASyB,IAAIf,GACtBD,sBAAsB1D,EAAO2D,EAAQ6D,GAAU,GACxCjH,WASO0H,0BAA6B1H,EAAiCoD,GAC5E,IAAKpD,EAAW,MAAM,IAAInB,YAAY,gCACtC,GAAIiH,MAAM1C,GAAS,MAAM,IAAIvE,YAAY,yCACzC,MAAMK,GAAEA,EAAEqG,KAAEA,EAAIjB,OAAEA,EAAM7E,MAAEA,GAAUO,GAC9BF,KAAEA,EAAIJ,WAAEA,GAAeD,EAC7B,GAAI2D,EAAS,GAAKA,EAAStD,EAAK2G,YAC9B,MAAM,IAAIxG,MAAM,6BAA6BmD,OAE/C,MAAM6D,EAAWvH,EAAWR,GAC5B,QAAiBqE,IAAb0D,GAA0BjH,IAAciH,EAC1C,MAAM,IAAIhH,MAAM,cAAcsF,oCAEhC,IAAK0B,EAASvE,SAASxB,IAAIkC,GACzB,MAAM,IAAInD,MAAM,WAAWmD,+BAAoCmC,iBAEjE,MAAMsC,EAAOtD,OAAOsD,KAAKvD,GACzB,IAAK,IAAInF,EAAI,EAAGC,EAAIyI,EAAKpJ,OAAQU,EAAIC,EAAGD,IAAK,CAE3CwF,iBAAiBsC,EADLY,EAAK1I,IACwBiE,GAI3C,OAFA6D,EAASvE,SAASgB,OAAON,GACzBD,sBAAsB1D,EAAO2D,EAAQpD,GAAW,GACzCA,WC/LO8H,kBAAkBrJ,GAChC,GAAIqH,MAAMrH,GAAS,MAAM,IAAI4G,UAAU,kCACvC,MAAM3C,EAAW,IAAIqF,WAAWtJ,GAAQkI,KAAK9D,EAAYmF,WACnDC,EAAQxJ,EAAS,EACjByJ,EAAY1H,MAAM2H,KAAK,CAAE1J,OAAAA,IAAU,CAACkC,EAAGxB,IAAM8I,EAAQ9I,IAC3D,OAAOoF,OAAO6D,OAAO1F,EAAU,CAAEwF,UAAAA,aAQnBG,aAAa5I,GAC3B,IAAKA,EAAO,MAAM,IAAIZ,YAAY,4CAClC,MAAM0D,EAAM9C,EAAMiD,SAASwF,UAAUI,MACrC,QAAY/E,IAARhB,EAGJ,OAFA9C,EAAMiD,SAASH,GAAOM,EAAYmB,MAClCb,sBAAsB1D,EAAO8C,GACtBA,WASOgG,cAAc9I,EAAc2D,GAC1C,IAAK3D,EAAO,MAAM,IAAIZ,YAAY,+CAClC,GAAIiH,MAAM1C,GAAS,MAAM,IAAIvE,YAAY,yCACzC,MAAMa,WAAEA,EAAUgD,SAAEA,EAAQ5C,KAAEA,GAASL,GACjCyI,UAAEA,GAAcxF,GAChB+D,YAAEA,GAAgB3G,EACxB,GAAIsD,EAAS,GAAKA,EAASqD,EAAa,MAAM,IAAIxG,MAAM,2BACxD,GAAIiI,EAAUM,SAASpF,GAAS,OAAO,EACvC,IAAK,IAAIjE,EAAI,EAAGC,EAAIM,EAAWjB,OAAQU,EAAIC,EAAGD,IAAK,CACjD,MAAMa,EAAYN,EAAWP,GACxBa,IACDA,EAAU0C,SAASxB,IAAIkC,IACzBsE,0BAA0B1H,EAAWoD,IAMzC,OAHAD,sBAAsB1D,EAAO2D,GAC7B8E,EAAU7F,KAAKe,GACfV,EAASU,GAAUP,EAAYmF,WACxB,WC1DOS,cAAchJ,GAC5B,MAAMiJ,QAAEA,GAAYjJ,EACpB,IAAK,IAAIN,EAAI,EAAGC,EAAIsJ,EAAQjK,OAAQU,EAAIC,EAAGD,IAAK,CAC9C,MAAMwJ,EAASD,EAAQvJ,GAClBwJ,EAAOC,SACZD,EAAOE,IAAIlG,qBAAqBgG,EAAO/G,kBAS3BkH,eAAerJ,EAAcsJ,EAAQ,GACnD,MAAML,QAAEA,GAAYjJ,EACpB,IAAK,IAAIN,EAAI,EAAGC,EAAIsJ,EAAQjK,OAAQU,EAAIC,EAAGD,IAAK,CAC9C,MAAMwJ,EAASD,EAAQvJ,GAClBwJ,EAAOC,SACZD,EAAOK,KAAKrG,qBAAqBgG,EAAO/G,OAAQY,uBAAuBmG,EAAO/G,OAAQmH,aAS1EE,iBAAiBxJ,EAAcyJ,EAAQ,GACrD,MAAMR,QAAEA,GAAYjJ,EACpB,IAAK,IAAIN,EAAI,EAAGC,EAAIsJ,EAAQjK,OAAQU,EAAIC,EAAGD,IAAK,CAC9C,MAAMwJ,EAASD,EAAQvJ,GAClBwJ,EAAOC,SACZD,EAAOQ,OAAOxG,qBAAqBgG,EAAO/G,OAAQY,uBAAuBmG,EAAO/G,OAAQsH,aC6B5EE,aAAatJ,GAC3B,MAAMyF,KAAEA,EAAIsD,IAAEA,EAAMnI,WAAUsI,KAAEA,EAAOtI,WAAUyI,OAAEA,EAASzI,YAAeZ,EAC3E,IAAKe,YAAY0E,GAAO,MAAM,IAAI1G,YAAY,2BAC9C,MAAO,CACL6C,UAAW,GACX6D,KAAAA,EACAyD,KAAAA,EACAH,IAAAA,EACAM,OAAAA,YAaYE,eAAe5J,EAAckJ,EAAgB/G,GAC3D,MAAM8G,QAAEA,GAAYjJ,EAEd6J,WPkBQC,oBAAoB9J,EAAcmC,GAChD,MAAMiC,QAAEA,GAAYpE,EAEpB,GAAIoE,EAAQ3C,IAAIU,GAAQ,OAAOiC,EAAQJ,IAAI7B,GAE3C,MAAM4H,WAAcC,GAAkCA,EAAEhK,QAAUA,EAC5DiK,aAAgB1J,GAAkCA,EAAU0B,UAAUiI,OAAOH,YAE7EnI,EAAMO,EAAMP,IAAIuB,QAAQ8G,cACxBpI,EAAMM,EAAMN,IAAIsB,QAAQ8G,cACxBnI,EAAOK,EAAML,KAAKqB,QAAQ8G,cAE1B5H,EAAMtC,4BAA4BC,KAAU4B,GAC5CY,EAAKzC,4BAA4BC,KAAU6B,GAC3CU,EAAMxC,4BAA4BC,KAAU8B,GAS5C0F,EAA0B,CAC9B9E,WAAY,GACZzC,WATiB6E,OAAOqF,OACxB,IAAIvI,KAAQC,GAAKuI,QAAO,CAACC,EAAK9J,KAC5B8J,EAAI9J,EAAUuF,MAAQvF,EACf8J,IACN,KAMHhI,IAAAA,EACAG,GAAAA,EACAD,IAAAA,EACAvC,MAAAA,GAGFoE,EAAQO,IAAIxC,EAAOqF,GAEnB,MAAM9E,EAAa,IAAI1C,EAAM0C,WAAW4B,UACxC,IAAK,IAAI5E,EAAI,EAAGC,EAAI+C,EAAW1D,OAAQU,EAAIC,EAAGD,IAAK,CACjD,MAAM0C,EAAYM,EAAWhD,GACzBwC,iBAAiBsF,EAAUpF,IAC7BK,oBAAoB+E,EAAUpF,GAIlC,OAAOoF,EO5DesC,CAAoB9J,EAAOmC,GAEjD,IAAIgH,GAAU,EAEd,MAAM3B,EAAW1C,OAAOwB,OAAO4C,EAAQ,CACrCC,QAAS,CACPnF,IAAG,IACMmF,EAETvC,IAAI0D,GACFnB,EAAUmB,GAEZ7C,cAAc,EACdf,YAAY,GAEdvE,MAAO,CACLuD,MAAOmE,EACPpC,cAAc,EACdf,YAAY,EACZgB,WAAW,GAEb1H,MAAO,CACL0F,MAAO1F,EACPyH,cAAc,EACdf,YAAY,EACZgB,WAAW,KAKf,OAFAwB,EAAOjH,UAAUW,KAAK4E,GACtByB,EAAQrG,KAAK4E,GACNA,WASO+C,iBAAiBrB,GAC/B,MAAMlJ,MAAEA,GAAUkJ,GACZD,QAAEA,GAAYjJ,EACd8C,EAAMmG,EAAQtG,QAAQuG,GAC5B,YAAYpF,IAARhB,GACJrC,UAAUwI,EAASnG,GADW9C,WAKhBwK,aAAatB,GAE3B,OADAA,EAAOC,SAAU,EACVD,WAGOuB,cAAcvB,GAE5B,OADAA,EAAOC,SAAU,EACVD,WAGOwB,gBAAgBxB,GAC9B,OAAOA,EAAOC,iBCzHAwB,YAAYC,GAC1B,MAA2B,iBAAbA,IAA0BvE,MAAMuE,YAIhCC,aACd,OAAO,QAIIhJ,EAAgBgE,gBAAgB,CAE3CF,MAAQmF,IAAyC,EACjD1F,QAAS,OACTU,KAAM,QAIKiF,EAAgBlF,gBAAgB,CAC3CE,UAAWiF,UACXrF,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,OAIKmF,EAAkBpF,gBAAgB,CAC7CE,UAAWmF,WACXvF,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIKqF,EAA0BtF,gBAAgB,CACrDE,UAAWqF,kBACXzF,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,SAIKuF,EAAkBxF,gBAAgB,CAC7CE,UAAWuC,WACX3C,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIKwF,EAAoBzF,gBAAgB,CAC/CE,UAAWwF,YACX5F,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,SAIK0F,EAAkB3F,gBAAgB,CAC7CE,UAAW0F,WACX9F,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIK4F,EAAoB7F,gBAAgB,CAC/CE,UAAW5F,YACXwF,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,SAIK6F,EAAmB9F,gBAAgB,CAC9CE,UAAW6F,cACXjG,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIK+F,EAAqBhG,gBAAgB,CAChDE,UAAW+F,eACXnG,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,SAIKiG,EAAoBlG,gBAAgB,CAC/CE,UAAWiG,aACXrG,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIKmG,EAAoBpG,gBAAgB,CAC/CE,UAAW0F,WACX9F,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,QAIKiB,EAA6BlB,gBAAgB,CACxDF,MAAQiF,GAA6C7J,MAAMC,QAAQ4J,GACnExF,QAAS,IAAM,GACfU,KAAM,UAIKoG,EAAwBrG,gBAAgB,CACnDF,MAAQiF,GAA+D,kBAAbA,EAC1DxF,QAAS,KAAM,EACfU,KAAM,YAIKqG,EAAqBtG,gBAAgB,CAChDF,MAAQiF,GAAuF,mBAAbA,EAClFxF,QAAS,IAAM,OACfU,KAAM,aAIKsG,EAAsBvG,gBAAgB,CACjDF,MAAOgF,YACPvF,QAASyF,WACT/E,KAAM,WAKKjF,EAA8BgF,gBAAgB,CAEzDF,MAAQiF,GAA0ChK,SAASgK,GAC3DxF,QAAS,SACTU,KAAM,WAIKuG,EAAsBxG,gBAAgB,CACjDF,MAAQiF,GAA8D,iBAAbA,EACzDxF,QAAS,IAAM,GACfU,KAAM,WCxJKwG,EAA8B,CACzChM,cAAe+C,EACf2D,YAAa1D,YAsBCiJ,YAAYlM,EAA2BiM,GACrD,MAAMhM,cAAEA,EAAgB+C,EAAsB2D,YAAEA,EAAc1D,GAAyBjD,EAUvF,MATc,CACZqC,WAAY,IAAI8J,IAChBvM,WAAY,IAAIc,MAAMT,GACtB2C,SAAUoF,kBAAkBrB,GAC5BvH,GAAI,GAAGgN,KAAKC,MAAM5M,SAAS,OAAOT,KAAKsN,SAAS7M,SAAS,IAAI8M,OAAO,EAAG,KACvExI,QAAS,IAAIoI,IACbnM,KAAMyE,OAAOqF,OAAO,CAAE7J,cAAAA,EAAe0G,YAAAA,IACrCiC,QAAS"}