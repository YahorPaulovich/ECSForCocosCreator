{"version":3,"file":"miski.min.js","sources":["../src/archetype/archetype-manager.ts","../src/utils.ts","../src/component/component.ts","../src/component/component-manager.ts","../src/pool/pool.ts","../src/entity/entity.ts","../src/entity/entity-manager.ts","../src/query/query.ts","../src/query/query-manager.ts","../src/step/step-manager.ts","../src/system/system.ts","../src/system/system-manager.ts","../src/world.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["createAddEntitiesToArchetype","registry","world","addEntitiesToArchetype","archetype","entities","has","set","get","forEach","entity","add","SyntaxError","createGetArchetypes","getArchetypes","entries","createGetEntitiesFromArchetype","getEntitiesFromArchetype","id","createGetEntitiesByComponents","getEntitiesByComponents","components","Set","component","createIsArchetypeEmpty","isArchetypeEmpty","Boolean","size","createRemoveEntitiesFromArchetype","removeEntitiesFromArchetype","delete","createUpdateArchetype","updateArchetype","previous","undefined","current","getArchetype","FORBIDDEN_NAMES","Object","freeze","clamp","n","min","max","validName","str","test","includes","isObject","item","Array","isArray","deepAssignObjects","target","sources","length","descriptors","source","shift","keys","key","descriptor","getOwnPropertyDescriptor","value","getOwnPropertySymbols","symbol","enumerable","defineProperties","Component","[object Object]","spec","name","this","_world","defaults","defineProperty","isComponentRegistered","createGetComponents","getComponents","values","createGetComponentById","getComponentById","find","createGetComponentByName","getComponentByName","createIsComponentRegistered","createRegisterComponent","count","maxComponents","registerComponent","Error","createUnregisterComponent","unregisterComponent","getEntities","removeComponent","Pool","create","destroy","initialSize","growthFactor","maxSize","_create","_destroy","_firstAvailable","_pool","i","next","push","Entity","Date","now","toString","Math","random","substr","_archetype","_enabled","_next","_properties","Map","enabled","properties","tmp","val","_c","isFrozen","prop","configurable","prev","clear","Reflect","err","console","warn","createCreateEntity","pool","createEntity","createDestroyEntity","destroyEntity","global","release","createGetEntities","createGetEntityById","getEntityById","createIsEntityRegistered","isEntityRegistered","maskFromComponents","reduce","mask","Query","all","any","none","_mskAll","_mskAny","_mskNone","_registry","_any","_all","_none","matches","createIsQueryRegistered","isQueryRegistered","query","createRegisterQuery","registerQuery","createRefreshQueries","refreshQueries","update","createUnregisterQuery","unregisterQuery","createStep","maxUpdates","tempo","acc","lastTime","lastUpdate","dt","pre","createPre","getPreSystems","system","post","createPost","int","getPostSystems","createUpdate","getUpdateSystems","step","time","noopPre","_entities","_global","noopPost","_int","noopUpdate","_dt","System","createGetSystems","executionOrder","getSystems","createGetPostSystems","filter","createGetPreSystems","createGetUpdateSystems","createGetSystemByIdx","getSystemByIdx","idx","createGetSystemByName","getSystemByName","createIsSystemRegistered","isSystemRegistered","createMoveSystem","moveSystem","indexOf","splice","createRegisterSystem","registerSystem","createUnregisterSystem","unregisterSystem","createWorld","entityPoolGrowthFactor","initialEntityPoolSize","maxEntities","Number","POSITIVE_INFINITY","assign","createArchetypeManager","_spec","createComponentManager","createEntityManager","createQueryManager","createStepManager","createSystemManager"],"mappings":"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"}